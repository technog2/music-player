import{a as C,l as N,m as T,o,n as f,p as A,q as E,s as l,b as r,i as P,_,g as t,r as b,c as O,w as G,e as R,t as v,x as U,j as u,y as D,h as X,v as J,z as K,T as Q,F as W}from"./index-DFJhN67m.js";import{u as F}from"./BottomSheet-iNGgHWSz.js";import{u as q}from"./Music-DpP9E8q5.js";const Y={key:0,class:"block size-2 rounded-full bg-rose-700"},$=C({__name:"FooterItem",props:{to:{},icon:{}},setup(a){const e=N();return(n,d)=>{const c=T("RouterLink");return o(),f(c,{to:n.to,class:"flex flex-col items-center justify-center gap-1"},{default:A(()=>[(o(),f(E(n.icon),{class:"size-5"})),l(e).path===n.to?(o(),r("span",Y)):P("",!0)]),_:1},8,["to"])}}}),ee={},te={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"size-6"};function se(a,e){return o(),r("svg",te,e[0]||(e[0]=[t("path",{"fill-rule":"evenodd",d:"M4.5 5.653c0-1.427 1.529-2.33 2.779-1.643l11.54 6.347c1.295.712 1.295 2.573 0 3.286L7.28 19.99c-1.25.687-2.779-.217-2.779-1.643V5.653Z","clip-rule":"evenodd"},null,-1)]))}const S=_(ee,[["render",se]]),oe={},ne={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"size-6"};function le(a,e){return o(),r("svg",ne,e[0]||(e[0]=[t("path",{"fill-rule":"evenodd",d:"M6.75 5.25a.75.75 0 0 1 .75-.75H9a.75.75 0 0 1 .75.75v13.5a.75.75 0 0 1-.75.75H7.5a.75.75 0 0 1-.75-.75V5.25Zm7.5 0A.75.75 0 0 1 15 4.5h1.5a.75.75 0 0 1 .75.75v13.5a.75.75 0 0 1-.75.75H15a.75.75 0 0 1-.75-.75V5.25Z","clip-rule":"evenodd"},null,-1)]))}const L=_(oe,[["render",le]]),re={},ie={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"size-6"};function ae(a,e){return o(),r("svg",ie,e[0]||(e[0]=[t("path",{d:"M5.055 7.06C3.805 6.347 2.25 7.25 2.25 8.69v8.122c0 1.44 1.555 2.343 2.805 1.628L12 14.471v2.34c0 1.44 1.555 2.343 2.805 1.628l7.108-4.061c1.26-.72 1.26-2.536 0-3.256l-7.108-4.061C13.555 6.346 12 7.249 12 8.689v2.34L5.055 7.061Z"},null,-1)]))}const ce=_(re,[["render",ae]]),ue={},de={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"size-6"};function _e(a,e){return o(),r("svg",de,e[0]||(e[0]=[t("path",{d:"M9.195 18.44c1.25.714 2.805-.189 2.805-1.629v-2.34l6.945 3.968c1.25.715 2.805-.188 2.805-1.628V8.69c0-1.44-1.555-2.343-2.805-1.628L12 11.029v-2.34c0-1.44-1.555-2.343-2.805-1.628l-7.108 4.061c-1.26.72-1.26 2.536 0 3.256l7.108 4.061Z"},null,-1)]))}const pe=_(ue,[["render",_e]]),ve={},fe={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-5"};function me(a,e){return o(),r("svg",fe,e[0]||(e[0]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"},null,-1)]))}const we=_(ve,[["render",me]]),xe={},ge={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6"};function he(a,e){return o(),r("svg",ge,e[0]||(e[0]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18 18 6M6 6l12 12"},null,-1)]))}const be=_(xe,[["render",he]]),ke={},ye={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"size-5"};function $e(a,e){return o(),r("svg",ye,e[0]||(e[0]=[t("path",{"fill-rule":"evenodd",d:"M4.755 10.059a7.5 7.5 0 0 1 12.548-3.364l1.903 1.903h-3.183a.75.75 0 1 0 0 1.5h4.992a.75.75 0 0 0 .75-.75V4.356a.75.75 0 0 0-1.5 0v3.18l-1.9-1.9A9 9 0 0 0 3.306 9.67a.75.75 0 1 0 1.45.388Zm15.408 3.352a.75.75 0 0 0-.919.53 7.5 7.5 0 0 1-12.548 3.364l-1.902-1.903h3.183a.75.75 0 0 0 0-1.5H2.984a.75.75 0 0 0-.75.75v4.992a.75.75 0 0 0 1.5 0v-3.18l1.9 1.9a9 9 0 0 0 15.059-4.035.75.75 0 0 0-.53-.918Z","clip-rule":"evenodd"},null,-1)]))}const Ce=_(ke,[["render",$e]]),Me={},ze={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"size-5"};function Be(a,e){return o(),r("svg",ze,e[0]||(e[0]=[t("path",{"fill-rule":"evenodd",d:"M3 9a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 9Zm0 6.75a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75Z","clip-rule":"evenodd"},null,-1)]))}const Ve=_(Me,[["render",Be]]),Ie=["src","loop"],je={key:0,class:"fixed bottom-[5.5rem] inset-x-4 flex justify-between px-4 py-3 bg-rose-900/75 text-gray-300 backdrop-blur rounded-2xl"},Ze={class:"flex items-center gap-4"},Se={class:"text-white"},Le={class:"text-gray-400 text-sm"},He={class:""},Ne={class:""},Te={key:1,class:"fixed bottom-0 inset-x-0 z-10"},Ae={class:"bg-gray-700/90 backdrop-blur rounded-t-3xl h-[97vh] px-4 pb-8 overflow-y-scroll"},Pe=["src","alt"],Re={class:"text-center my-4"},De={class:"text-2xl text-white"},Fe={class:"text-gray-300"},qe={class:"flex items-center justify-between gap-8 mt-12 mb-6"},Ee={class:"flex items-center justify-center gap-5"},Oe=["disabled"],Ge=["disabled"],Ue={class:"p-2"},Xe={class:""},Je={class:"relative p-0.5 w-full"},Ke=["max"],Qe={class:"flex justify-between mt-1"},We={class:""},Ye={class:""},et=C({__name:"BottomSheet",setup(a){const e=F(),n=q(),d=b(null),c=b(0);b(.5);const m=b(!1),k=O(()=>{var i;return c.value/((i=d.value)==null?void 0:i.duration)*100||0});G(k,i=>{i===100&&(e.playing=!1)}),R(()=>d.value.addEventListener("timeupdate",i=>{var s;return c.value=(s=d.value)==null?void 0:s.currentTime}));function M(){e.playing=!e.playing,d.value[e.playing?"play":"pause"]()}function y(i){e[i]=!e[i]}function x(i){i=Math.floor(i);let s=Math.floor(i/60),w=i-s*60,g=s/10<1?`0${s}`:s,h=w/10<1?`0${w}`:w;return`${g}:${h}`}return(i,s)=>{var w,g,h,z,B,V,I,j,Z;return o(),r("div",null,[t("audio",{ref_key:"audio",ref:d,src:(w=l(n).currentMusic)==null?void 0:w.src,autoplay:"true",preload:"true",loop:m.value},null,8,Ie),l(e).minimized?(o(),r("div",je,[t("div",Ze,[t("button",{onClick:M,class:"bg-white rounded-full p-2 text-black"},[l(e).playing?(o(),f(L,{key:0,class:"size-[18px]"})):(o(),f(S,{key:1,class:"size-[18px]"}))]),t("div",{onClick:s[0]||(s[0]=p=>y("minimized"))},[t("div",Se,v((g=l(n).currentMusic)==null?void 0:g.title),1),t("div",Le,[t("span",He,v(x(c.value)),1),s[8]||(s[8]=U(" - ")),t("span",Ne,v(x((h=d.value)==null?void 0:h.duration)),1)])])]),t("button",{onClick:s[1]||(s[1]=p=>y("active"))},[u(be)])])):(o(),r("div",Te,[s[9]||(s[9]=t("span",{class:"absolute -top-2.5 left-1/2 -translate-x-1/2 w-12 border-2 border-gray-100 rounded-full"},null,-1)),t("div",Ae,[t("button",{onClick:s[2]||(s[2]=p=>y("minimized")),class:"mx-6 mt-2 mb-1 float-right"},[u(we)]),t("img",{src:(z=l(n).currentMusic)==null?void 0:z.poster,alt:(B=l(n).currentMusic)==null?void 0:B.title,loading:"lazy",class:"w-full aspect-square object-cover rounded-3xl"},null,8,Pe),t("div",Re,[t("div",De,v((V=l(n).currentMusic)==null?void 0:V.title),1),t("span",Fe,v((I=l(n).currentMusic)==null?void 0:I.artist),1)]),t("div",null,[t("div",qe,[t("button",{onClick:s[3]||(s[3]=p=>m.value=!m.value),class:D([{"bg-white/75 text-gray-700":m.value},"p-2 rounded-full"])},[u(Ce)],2),t("div",Ee,[t("button",{onClick:s[4]||(s[4]=(...p)=>l(n).goPrevious&&l(n).goPrevious(...p)),disabled:l(n).musics.indexOf(l(n).currentMusic)===0,class:"disabled:opacity-50"},[u(pe)],8,Oe),t("button",{onClick:M,class:"bg-white rounded-full p-4 text-black"},[l(e).playing?(o(),f(L,{key:0})):(o(),f(S,{key:1}))]),t("button",{onClick:s[5]||(s[5]=(...p)=>l(n).goNext&&l(n).goNext(...p)),disabled:l(n).musics.indexOf(l(n).currentMusic)===l(n).musics.length-1,class:"disabled:opacity-50"},[u(ce)],8,Ge)]),t("div",Ue,[u(Ve)])]),t("div",Xe,[t("div",Je,[X(t("input",{type:"range","onUpdate:modelValue":s[6]||(s[6]=p=>c.value=p),onInput:s[7]||(s[7]=p=>d.value.currentTime=c.value),min:0,max:(j=d.value)==null?void 0:j.duration,step:.01,style:K(`background: linear-gradient(to right, #f3f4f6 ${k.value}%, #6b7280 ${k.value}%)`),class:"w-full appearance-none h-1 rounded-full [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:size-1.5 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-white [&::-webkit-slider-thumb]: [&::-webkit-slider-thumb]:shadow-[0_0_0_6px_rgba(255,255,255,.5)]"},null,44,Ke),[[J,c.value]])]),t("div",Qe,[t("span",We,v(x(c.value)),1),t("span",Ye,v(x((Z=d.value)==null?void 0:Z.duration)),1)])])])])]))])}}}),tt={},st={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6"};function ot(a,e){return o(),r("svg",st,e[0]||(e[0]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"},null,-1)]))}const H=_(tt,[["render",ot]]),nt={},lt={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6"};function rt(a,e){return o(),r("svg",lt,e[0]||(e[0]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"},null,-1)]))}const it=_(nt,[["render",rt]]),at={},ct={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6"};function ut(a,e){return o(),r("svg",ct,e[0]||(e[0]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m9 9 10.5-3m0 6.553v3.75a2.25 2.25 0 0 1-1.632 2.163l-1.32.377a1.803 1.803 0 1 1-.99-3.467l2.31-.66a2.25 2.25 0 0 0 1.632-2.163Zm0 0V2.25L9 5.25v10.303m0 0v3.75a2.25 2.25 0 0 1-1.632 2.163l-1.32.377a1.803 1.803 0 0 1-.99-3.467l2.31-.66A2.25 2.25 0 0 0 9 15.553Z"},null,-1)]))}const dt=_(at,[["render",ut]]),_t={class:"px-4 py-8"},pt={class:"relative"},vt={class:"fixed bottom-4 inset-x-4 flex justify-between px-8 py-3.5 bg-gray-700/50 text-gray-300 backdrop-blur rounded-2xl"},xt=C({__name:"Index",setup(a){N();const e=F(),n=q();return R(n.getMusics),(d,c)=>{const m=T("RouterView");return o(),r(W,null,[u(Q,null,{default:A(()=>[l(e).active?(o(),f(et,{key:0})):P("",!0)]),_:1}),t("header",_t,[t("div",pt,[c[0]||(c[0]=t("input",{type:"text",placeholder:"Search",class:"w-full bg-gray-900/50 backdrop-blur pr-4 pl-10 py-2 rounded-xl outline-none"},null,-1)),u(H,{class:"absolute top-2 left-2 size-5 text-gray-500"})])]),t("div",{class:D(`pb-${l(e).minimized?40:24}`)},[u(m)],2),t("footer",vt,[u($,{to:"/",icon:it}),u($,{to:"/search",icon:H}),u($,{to:"/albums",icon:dt})])],64)}}});export{xt as default};
